
# Правила при верстки письма

Все правила указанные ниже могут показаться излишними. Но это только на первый взгляд, есть много нюансов и за всем не уследить.

 ## Структура
 - **Использовать только таблицы**
	*Почему: низкая поддержка HTML у почтовых клиентов, таблицы это то, что определит любой почтовой клиент.*
	
- **Письмо должно состоять из одной главной таблицы, в которой есть другие таблице поменьше в которой есть таблицы еще меньше. Должна быть именно такая иерархия**
	
- **Всегда «обнуляйте» таблицы, чтобы быть уверенным в той величине, которую вы указали в width**
   ```
   <table width="600" cellpadding="0" cellspacing="0" border="0" style="border-collapse: collapse;">
   ```

- **Рекомендованная ширина письма должна быть не больше 600 px**

- **Выравнивания элементов выполняется одним из способов:**
	- ```<td align="center"></td>```
	- ```<center></center>```

- **Не использовать padding и margin. Вместо них дополнительные строки и ячейки**
	- ```<tr height="10"></tr>```
	- ```<td height="10"></td>```

- **Не рекомендуется использовать ширину таблиц или ячеек в процентном соотношении. Лучше задавать в px фиксировано.**

- **Никогда не оставлять пустые ячейки. Вместо пустоты всегда должен быть символ юникода ```&nbsp;``` .**
	*Почему: если не поставить символ, верстка потеряет визуальную структуру, то есть "развалиться"*

- **В каждой строке должны обязательно быть равное количество ячеек, можно использовать сами ячейки td и вставлять в них символ юникода ```&nbsp;``` . Либо задавать атрибут colspan ячейке которая должна растянуться**
	```
	<table>
		<tbody>
			<tr>
				<td colspan="4"></td>
			</tr>
			<tr>
				<td>&nbsp;</td>
				<td>&nbsp;</td>
				<td>&nbsp;</td>
				<td>&nbsp;</td>
			</tr>
		</tbody>
	</table>
	```
	*Почему: если этого не сделать, верстка потеряет визуальную структуру, то есть "развалиться"*

## Оформление текста
- **Обязательные атрибуты строчных элементов:**
	-   «color: #800080;» — цвет текста;
	-   «line-height: 25px;» — межстрочный интервал;
	-   «-webkit-text-size-adjust: none;» — не позволяет мобильным устройствам менять размер текста.
	- Для ссылок задаем атрибут target="_blank"

- **Шрифты доступные для использования:**
	-   Arial
	-   Arial Black
	-   Tahoma
	-   Trebuchet MS
	-   Verdana
	-   Courier
	-   Courier New
	-   Georgia
	-   Times
	-   Times New Roman
	
	*Почему: Эти шрифты будут работать корректно в любых почтовых клиентах*

- **Все стили текста задавать только inline в атрибуте style. Исключение только для вендорного значение отмены масштабирование текста**
	```div, p, span, strong, b, em, i, a, li, td { -webkit-text-size-adjust: none; }```
	
- **Использовать только фиксированные единицы измерения PX или PT**
- **Ссылки оформлять только такой конструкцией**
	```
	<a href="#" target="_blank" style="color: #267f00 !important; text-decoration: underline;">
        <span style="color: #267f00;">link</span>
    </a>
    ```
    *Почему: Повторное оборачивание ссылки в _span_ и задания цвета нужно для Outlook, т.к. он не понимает приоритет _!important_, а без него Яндекс.Почта будет перекрашивать вашу ссылку в красный цвет при событии _hover_.*
    
- **Межстрочный отступ задавайте только для блочных элементов (td, p, li).**
	*Почему: что бы везде отображался одинаково*

## Изображения
- **Все картинки должны иметь фиксированную ширину и высоту. Ни каких процентов все жестко в PX.**

- **Обязательные атрибуты изображений:**
	-   src=«#» — адрес изображения;
	-   alt=«» — описание: поле обязательное, но его можно оставить пустым, но только именно пустым, просто alt писать нельзя;
	-   border=«0» — толщина рамки;
	-   width=«75» — ширина изображения;
	-   height=«50» — высота изображения.

- **Если в одной ячейке находится только одно изображение, прописывать для него display: block**
	*Почему: в Gmail появляется пространство вокруг картинки. В Outlook картинки высота которых меньше 20px, у них появляется 8px пространства сверху. Решается это заданием свойства _line-height_ для родительского блока, значение которого менее или равно величине высоты изображения. Его можно указать как для ячейки td, так и для оборачиваемого элемента:*
    ```
    <div style="margin: 0; padding: 0; line-height: 15px;">
        <img src="..." border="0" width="600" height="15" style="display: block;" alt="" />
    </div>
    ```
## Как тестировать письмо
- Чтобы не тревожить бекендера. Существуют онлайн сервисы для отправки HTML. Один из них бесплатный https://sendhtmail.ru/. Вставляется в поле полностью собранный HTML и отправляется до 10 адресатам. Приходит в течении 15 секунд